<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.17.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MATE Desktop Environment: Pings</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mate-logo.svg"/></td>
  <td id="projectalign">
   <div id="projectname">MATE Desktop Environment
   </div>
   <div id="projectbrief">The continuation of GNOME 2. An intuitive and attractive desktop for Linux and Unix-like operating systems.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.17.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav-mobile">
<div class="sm sm-dox"><input id="main-menu-state" type="checkbox"/>
<label class="main-menu-btn" for="main-menu-state">
<span class="main-menu-btn-icon"></span> Toggle main menu visibility</label>
<span id="searchBoxPos1" style="position:absolute;right:8px;top:8px;height:36px;"></span>
</div>
</div><!-- main-nav-mobile -->
<div id="main-nav">
  <ul class="sm sm-dox" id="main-menu">
    <li id="searchBoxPos2" style="float:right">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
    </li>
  </ul>
</div><!-- main-nav -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__pings.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Pings </div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga41c028a8e6bb7628677f0a55c45e8dd9" id="r_ga41c028a8e6bb7628677f0a55c45e8dd9"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#ga41c028a8e6bb7628677f0a55c45e8dd9">meta_display_ping_window</a> (<a class="el" href="types_8h.html#ae50e85fc87a845eeb59e09c5fcfb02ed">MetaDisplay</a> *display, <a class="el" href="types_8h.html#a02e7e3c51d45f5c2d5e69d5c1a44c369">MetaWindow</a> *window, guint32 timestamp, <a class="el" href="display-private_8h.html#a03b9b55d27908e19e7b686b8027de761">MetaWindowPingFunc</a> ping_reply_func, <a class="el" href="display-private_8h.html#a03b9b55d27908e19e7b686b8027de761">MetaWindowPingFunc</a> ping_timeout_func, gpointer <a class="el" href="gs-idle-monitor_8h.html#a5da1a635c01e05e1d7ecd668f58c7ac0">user_data</a>)</td></tr>
<tr class="memitem:ga36f7113e35ecad2d4e8cf1539b1163b1" id="r_ga36f7113e35ecad2d4e8cf1539b1163b1"><td class="memItemLeft">gboolean&#160;</td><td class="memItemRight"><a class="el" href="#ga36f7113e35ecad2d4e8cf1539b1163b1">meta_display_window_has_pending_pings</a> (<a class="el" href="types_8h.html#ae50e85fc87a845eeb59e09c5fcfb02ed">MetaDisplay</a> *display, <a class="el" href="types_8h.html#a02e7e3c51d45f5c2d5e69d5c1a44c369">MetaWindow</a> *window)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sometimes we want to see whether a window is responding, so we send it a "ping" message and see whether it sends us back a "pong" message within a reasonable time. Here we have a system which lets us nominate one function to be called if we get the pong in time and another function if we don't. The system is rather more complicated than it needs to be, since we only ever use it to destroy windows which are asked to close themselves and don't do so within a reasonable amount of time, and therefore we always use the same callbacks. It's possible that we might use it for other things in future, or on the other hand we might decide that we're never going to do so and simplify it a bit. </p>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga41c028a8e6bb7628677f0a55c45e8dd9" name="ga41c028a8e6bb7628677f0a55c45e8dd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41c028a8e6bb7628677f0a55c45e8dd9">&#9670;&#160;</a></span>meta_display_ping_window()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void meta_display_ping_window </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ae50e85fc87a845eeb59e09c5fcfb02ed">MetaDisplay</a> *</td>          <td class="paramname"><span class="paramname"><em>display</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a02e7e3c51d45f5c2d5e69d5c1a44c369">MetaWindow</a> *</td>          <td class="paramname"><span class="paramname"><em>window</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">guint32</td>          <td class="paramname"><span class="paramname"><em>timestamp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="display-private_8h.html#a03b9b55d27908e19e7b686b8027de761">MetaWindowPingFunc</a></td>          <td class="paramname"><span class="paramname"><em>ping_reply_func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="display-private_8h.html#a03b9b55d27908e19e7b686b8027de761">MetaWindowPingFunc</a></td>          <td class="paramname"><span class="paramname"><em>ping_timeout_func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer</td>          <td class="paramname"><span class="paramname"><em>user_data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a ping request to a window. The window must respond to the request within a certain amount of time. If it does, we will call one callback; if the time passes and we haven't had a response, we call a different callback. The window must have the hint showing that it can respond to a ping; if it doesn't, we call the "got a response" callback immediately and return. This function returns straight away after setting things up; the callbacks will be called from the event loop.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">display</td><td>The <a class="el" href="types_8h.html#ae50e85fc87a845eeb59e09c5fcfb02ed">MetaDisplay</a> that the window is on </td></tr>
    <tr><td class="paramname">window</td><td>The <a class="el" href="types_8h.html#a02e7e3c51d45f5c2d5e69d5c1a44c369">MetaWindow</a> to send the ping to </td></tr>
    <tr><td class="paramname">timestamp</td><td>The timestamp of the ping. Used for uniqueness. Cannot be CurrentTime; use a real timestamp! </td></tr>
    <tr><td class="paramname">ping_reply_func</td><td>The callback to call if we get a response. </td></tr>
    <tr><td class="paramname">ping_timeout_func</td><td>The callback to call if we don't get a response. </td></tr>
    <tr><td class="paramname"><a class="el" href="gs-idle-monitor_8h.html#a5da1a635c01e05e1d7ecd668f58c7ac0">user_data</a></td><td>Arbitrary data that will be passed to the callback function. (In practice it's often a pointer to the window.)</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l04418">4418</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>

<p class="reference">References <a class="el" href="marco_2src_2include_2util_8h_source.html#l00064">META_DEBUG_PING</a>, <a class="el" href="marco_2src_2core_2util_8c_source.html#l00395">meta_warning()</a>, <a class="el" href="window_8c_source.html#l04790">meta_window_send_icccm_message()</a>, <a class="el" href="display-private_8h_source.html#l00241">_MetaDisplay::pending_pings</a>, <a class="el" href="display_8c_source.html#l04351">PING_TIMEOUT_DELAY</a>, and <a class="el" href="gs-idle-monitor_8h_source.html#l00037">user_data</a>.</p>

</div>
</div>
<a id="ga36f7113e35ecad2d4e8cf1539b1163b1" name="ga36f7113e35ecad2d4e8cf1539b1163b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36f7113e35ecad2d4e8cf1539b1163b1">&#9670;&#160;</a></span>meta_display_window_has_pending_pings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean meta_display_window_has_pending_pings </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#ae50e85fc87a845eeb59e09c5fcfb02ed">MetaDisplay</a> *</td>          <td class="paramname"><span class="paramname"><em>display</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a02e7e3c51d45f5c2d5e69d5c1a44c369">MetaWindow</a> *</td>          <td class="paramname"><span class="paramname"><em>window</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finds whether a window has any pings waiting on it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">display</td><td>The <a class="el" href="types_8h.html#ae50e85fc87a845eeb59e09c5fcfb02ed">MetaDisplay</a> of the window. </td></tr>
    <tr><td class="paramname">window</td><td>The <a class="el" href="types_8h.html#a02e7e3c51d45f5c2d5e69d5c1a44c369">MetaWindow</a> whose pings we want to know about.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if there is at least one ping which has been sent to the window without getting a response; false otherwise.</dd></dl>

<p class="definition">Definition at line <a class="el" href="display_8c_source.html#l04594">4594</a> of file <a class="el" href="display_8c_source.html">display.c</a>.</p>

<p class="reference">References <a class="el" href="afmparse_8h_source.html#l00086">FALSE</a>, <a class="el" href="display-private_8h_source.html#l00241">_MetaDisplay::pending_pings</a>, and <a class="el" href="afmparse_8h_source.html#l00085">TRUE</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.17.0 </li>
  </ul>
</div>
</body>
</html>
